(()=>{var e={112:(e,t,r)=>{const o=r(172),{shipLengths:n}=r(603);function a(e,t){for(const[r,o]of t)e[r][o]={}}e.exports=function(){const e=function(){const e={};for(let t="A".charCodeAt(0);t<="J".charCodeAt(0);t++){const r=String.fromCharCode(t);e[r]={};for(let t=1;t<=10;t++){const o=t.toString();e[r][o]={}}}return e}();let t={},r={};const s={carrier:o("carrier",n.carrier),cruiser:o("cruiser",n.cruiser),destroyer:o("destroyer",n.destroyer),submarine:o("submarine",n.submarine),battleship:o("battleship",n.battleship)};let i=[],c=[];return{getBoard:()=>e,getShipLocation:()=>t,getShips:()=>s,getMissedAttacks:()=>i,getSuccessfulAttacks:()=>c,allShipsSunk:function(){return Object.values(s).every((e=>e.isSunk()))},reset:()=>{for(const r in s){const o=t[r];o&&a(e,o)}t={},i=[],c=[],r={}},setPlayerAttack:(e,t)=>{r[e]=t},getPlayerAttack:()=>r,resetPlayerAttack:()=>{r={}}}}},560:e=>{e.exports=function(e,t,r,o){!function(e,t,r,o){let n=[];for(let a=0;a<t;a++){const s="ABCDEFGHIJ"[a],i=document.createElement("div");i.classList.add(`row-${s}`),i.style.cssText="display: flex;";for(let e=1;e<=t;e++){const t=document.createElement("div");t.classList.add(`col-${s}-${e}`),t.classList.add("hover"),t.setAttribute("data-player-id",r),t.style.cssText="width: 40px; height: 40px; border: 4px solid #8b8589;",t.addEventListener("click",(r=>{const a=s,i=String(e);t.classList.remove("hover"),t.classList.add("clicked"),n=[],n.push(a),n.push(i);const c=t.getAttribute("data-player-id");"player2"===c?o.getPlayerOneBoard().setPlayerAttack("attack",n):"player1"===c&&o.getPlayerTwoBoard().setPlayerAttack("attack",n)})),i.appendChild(t)}e.appendChild(i)}}(e,t,r,o)}},612:(e,t,r)=>{const o=r(144),n=r(112);e.exports=(e,t)=>{const r=o(e),a=o(t),s=n(),i=n(),c={player1:s,player2:i},l={player1:0,player2:0};return{getPlayerOne:()=>r,getPlayerTwo:()=>a,getPlayerOneBoard:()=>s,getPlayerTwoBoard:()=>i,resetBoard:()=>{for(const e in c)c[e].reset()},incrementWinCount:e=>{e===r?l.player1++:e===a&&l.player2++},getWinCount:()=>l}}},603:e=>{const t={destroyer:2,cruiser:3,submarine:3,battleship:4,carrier:5},r=document.querySelectorAll(".shipbutton-container");function o(e,t,r,o,n){return"vertical"===r&&o.includes(e)&&n.includes(t)||"horizontal"===r&&o.includes(e)&&n.includes(t)}e.exports={addShipButtonEventListener:function(e,r){r.addEventListener("click",(()=>{const n=r.classList[0],a=r.value,s=prompt(`Please enter 'vertical' or 'horizontal' for ${n}:`);var i;"vertical"===(i=s)||"horizontal"===i?function(e,t,r,n,a){console.log(`${n}'s turn to place ${t}`);const s=[],i=function(e,t){return"player1"===t?e.getPlayerOneBoard():e.getPlayerTwoBoard()}(e,n),{validRows:c,validCols:l}=function(e,t){let r,o;return"vertical"===e?(r="ABCDEFGHIJ".slice(0,10-(t-1)),o=Array.from({length:10},((e,t)=>(t+1).toString()))):"horizontal"===e&&(r="ABCDEFGHIJ",o=Array.from({length:10-(t-1)},((e,t)=>(t+1).toString()))),{validRows:r,validCols:o}}(a,r);for(;s.length<r;){const e=prompt(`Please input coordinate for ${t} (ex: A1):`).toUpperCase().split(""),n=e[0],i=e[1];if(o(n,i,a,c,l))for(let e=0;e<r;e++){const t="vertical"===a?String.fromCharCode(n.charCodeAt(0)+e):n,r="horizontal"===a?String.fromCharCode(i.charCodeAt(0)+e):i;s.push([t,r])}else console.error("Invalid coordinates. Please enter valid coordinates.")}console.log(s),function(e,t,r,o){if(o.length!==r)return void console.log(`Invalid ship coordinates for ${t}. Please provide ${r} coordinates.`);if(function(e,t){const r=e.getShipLocation();for(const e in r){const o=r[e];for(const[e,r]of t)if(o.some((([t,o])=>t===e&&o===r)))return!0}return!1}(e,o))return void console.log("Invalid ship placement. Coordinates are already occupied.");!function(e,t,r,o){for(const[t,n]of o)e[t][n]=r.charAt(0).toLowerCase();t[r]=o}(e.getBoard(),e.getShipLocation(),t,o)}(i,t,r,s)}(e,n,t[n],a,s):console.error('Invalid alignment input. Please enter either "vertical" or "horizontal".')}))},showShipButtons:function(){r.forEach((e=>{e.classList.remove("hidden")}))},getPlayerName:function(e){let t=prompt(e);for(;"string"!=typeof(r=t)||""===r.trim()||!/^[a-zA-Z\s]+$/.test(r);)alert("Invalid name. Please enter a valid string."),t=prompt(e);var r;return t},boardSize:10,timeoutDuration:6e3,shipLengths:t,receiveAttack:function(e,t){const r=document.querySelector(".hit-text"),[o,n]=e,a=t.getSuccessfulAttacks();if(a.some((([e,t])=>e===o&&t===n)))return void(r.textContent="This target has already been successfully attacked.");const s=function(e,t){const[r,o]=e,n=t.getShipLocation();for(const e in n){const t=n[e];for(const[n,a]of t)if(n===r&&a===o)return e}return null}(e,t);if(s){const e=t.getShips()[s];if(!e.isSunk()){e.isHit(),a.push([o,n]);const t=e.length-e.getHitCount();e.isSunk()?r.textContent=`${s} is sunk!`:r.textContent=`${s} is hit! Remaining health: ${t}`}}else r.textContent="Missed the target!",t.getMissedAttacks().push(e)}}},144:e=>{e.exports=function(e){const t=e;return{getName:()=>t,name:t}}},172:e=>{e.exports=function(e,t){return t?{length:t,hit:0,sunk:!1,name:e,isHit(){return this.hit<this.length&&this.hit++,this.hit===this.length},isSunk(){return this.hit===this.length},getHitCount(){return this.hit}}:null}}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}(()=>{const e=r(612),t=r(560),{addShipButtonEventListener:o,showShipButtons:n,getPlayerName:a,boardSize:s,timeoutDuration:i,receiveAttack:c}=r(603),l=document.querySelector(".start"),u=document.querySelector(".create-board"),d=document.querySelector(".player1-container"),h=document.querySelector(".player2-container"),p=document.querySelector(".player-turn"),y=document.querySelector(".place-ship"),g=document.querySelectorAll(".cruiser"),f=document.querySelectorAll(".carrier"),m=document.querySelectorAll(".battleship"),v=document.querySelectorAll(".submarine"),S=document.querySelectorAll(".destroyer");let k;u.addEventListener("click",(function(){const r=a("Enter player 1 Name"),n=a("Enter player 2 Name");k=e(r,n),console.log(k),t(d,s,"player1",k),t(h,s,"player2",k),g.forEach((e=>o(k,e))),f.forEach((e=>o(k,e))),m.forEach((e=>o(k,e))),v.forEach((e=>o(k,e))),S.forEach((e=>o(k,e)))})),y.addEventListener("click",n),l.addEventListener("click",(async function(){const e=k.getPlayerOne(),t=k.getPlayerTwo(),r=k.getPlayerOneBoard(),o=k.getPlayerTwoBoard();let n=null,a=e;const s=async()=>{const l=a===e?r:o,u=await function(e){return new Promise((t=>{const r=e===k.getPlayerOne()?k.getPlayerOneBoard():k.getPlayerTwoBoard(),o=async()=>{const n=r.getPlayerAttack();if(n&&0!==Object.keys(n).length){const e=n.attack;t(e)}else p.textContent=`Player ${e.getName()}, please click on a grid/tile/coordinate.`,await new Promise((e=>setTimeout(e,i))),await o()};o()}))}(a);console.log(u),console.log(`${a.getName()} attacks: ${u}`);const d=a===e?o:r;c(u,d),d.allShipsSunk()?(n=a===e?t:e,A(n)):(l.resetPlayerAttack(),console.log(l.getPlayerAttack()),a=a===e?t:e,s())};s()}));const A=e=>{const t=document.querySelector(".winner-text"),r=document.querySelector(".total-text"),o=document.querySelector(".hit-text"),n=k.getWinCount();t.textContent=`Winner: ${e.getName()}`,r.textContent=`Total Wins - Player1: ${n.player1}, Player2: ${n.player2}`,o.textContent="",document.querySelectorAll(".col").forEach((e=>e.classList.remove("clicked"))),k.resetBoard()}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixNQUFNcUcsRUFBYXpJLFNBQVMyRixjQUFjLGdCQUNwQytDLEVBQVkxSSxTQUFTMkYsY0FBYyxlQUNuQ0QsRUFBVTFGLFNBQVMyRixjQUFjLGFBQ2pDN0QsRUFBV3BDLEVBQUsyQyxjQUV0Qm9HLEVBQVczQyxZQUFlLFdBQVUxRCxFQUFPaUUsWUFDM0NxQyxFQUFVNUMsWUFBZSx5QkFBd0JoRSxFQUFTTCxxQkFBcUJLLEVBQVNKLFVBR3hGZ0UsRUFBUUksWUFBYyxHQUdOOUYsU0FBU3VDLGlCQUFpQixRQUNsQ3lDLFNBQVMvSCxHQUFRQSxFQUFJaUQsVUFBVVUsT0FBTyxhQUU5Q2xCLEVBQUt1QyxZQUFZLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZXBvLy4vc3JjL2JvYXJkLmpzIiwid2VicGFjazovL3RlbXBsYXRlLXJlcG8vLi9zcmMvYm9hcmREaXNwbGF5LmpzIiwid2VicGFjazovL3RlbXBsYXRlLXJlcG8vLi9zcmMvZ2FtZS5qcyIsIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZXBvLy4vc3JjL2hlbHBlci5qcyIsIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZXBvLy4vc3JjL3BsYXllci5qcyIsIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZXBvLy4vc3JjL3NoaXAuanMiLCJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVwby93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZXBvLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNyZWF0ZVNoaXAgPSByZXF1aXJlKCcuL3NoaXAuanMnKTtcbmNvbnN0IHsgc2hpcExlbmd0aHMgfSA9IHJlcXVpcmUoJy4vaGVscGVyLmpzJyk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUJvYXJkKCkge1xuICBjb25zdCBib2FyZCA9IHt9O1xuICBjb25zdCBncmlkU2l6ZSA9IDEwO1xuICAvLyBJdGVyYXRlIG92ZXIgcm93cyAoQS1KKVxuICBmb3IgKGxldCByb3cgPSAnQScuY2hhckNvZGVBdCgwKTsgcm93IDw9ICdKJy5jaGFyQ29kZUF0KDApOyByb3crKykge1xuICAgIGNvbnN0IHJvd0tleSA9IFN0cmluZy5mcm9tQ2hhckNvZGUocm93KTtcbiAgICBib2FyZFtyb3dLZXldID0ge307XG5cbiAgICAvLyBJdGVyYXRlIG92ZXIgY29sdW1ucyAoMS0xMClcbiAgICBmb3IgKGxldCBjb2wgPSAxOyBjb2wgPD0gZ3JpZFNpemU7IGNvbCsrKSB7XG4gICAgICBjb25zdCBjb2xLZXkgPSBjb2wudG9TdHJpbmcoKTtcbiAgICAgIGJvYXJkW3Jvd0tleV1bY29sS2V5XSA9IHt9O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBib2FyZDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlR2FtZUJvYXJkKCkge1xuICBjb25zdCBib2FyZCA9IGNyZWF0ZUJvYXJkKCk7XG5cbiAgbGV0IHNoaXBMb2NhdGlvbiA9IHt9O1xuICBsZXQgcGxheWVyQXR0YWNrID0ge307XG5cbiAgY29uc3Qgc2hpcHMgPSB7XG4gICAgY2FycmllcjogY3JlYXRlU2hpcCgnY2FycmllcicsIHNoaXBMZW5ndGhzLmNhcnJpZXIpLFxuICAgIGNydWlzZXI6IGNyZWF0ZVNoaXAoJ2NydWlzZXInLCBzaGlwTGVuZ3Rocy5jcnVpc2VyKSxcbiAgICBkZXN0cm95ZXI6IGNyZWF0ZVNoaXAoJ2Rlc3Ryb3llcicsIHNoaXBMZW5ndGhzLmRlc3Ryb3llciksXG4gICAgc3VibWFyaW5lOiBjcmVhdGVTaGlwKCdzdWJtYXJpbmUnLCBzaGlwTGVuZ3Rocy5zdWJtYXJpbmUpLFxuICAgIGJhdHRsZXNoaXA6IGNyZWF0ZVNoaXAoJ2JhdHRsZXNoaXAnLCBzaGlwTGVuZ3Rocy5iYXR0bGVzaGlwKSxcbiAgfTtcblxuICBsZXQgbWlzc2VkQXR0YWNrcyA9IFtdO1xuICBsZXQgc3VjY2Vzc2Z1bEF0dGFja3MgPSBbXTtcblxuICBmdW5jdGlvbiBhbGxTaGlwc1N1bmsoKSB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoc2hpcHMpLmV2ZXJ5KChzaGlwKSA9PiBzaGlwLmlzU3VuaygpKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2V0Qm9hcmQ6ICgpID0+IGJvYXJkLFxuICAgIGdldFNoaXBMb2NhdGlvbjogKCkgPT4gc2hpcExvY2F0aW9uLFxuICAgIGdldFNoaXBzOiAoKSA9PiBzaGlwcyxcbiAgICBnZXRNaXNzZWRBdHRhY2tzOiAoKSA9PiBtaXNzZWRBdHRhY2tzLFxuICAgIGdldFN1Y2Nlc3NmdWxBdHRhY2tzOiAoKSA9PiBzdWNjZXNzZnVsQXR0YWNrcyxcbiAgICBhbGxTaGlwc1N1bmssXG4gICAgcmVzZXQ6ICgpID0+IHtcbiAgICAgIC8vIENsZWFyIHNoaXAgY29vcmRpbmF0ZXMgb24gdGhlIGJvYXJkXG4gICAgICBmb3IgKGNvbnN0IHNoaXBOYW1lIGluIHNoaXBzKSB7XG4gICAgICAgIGNvbnN0IHNoaXBDb29yZGluYXRlcyA9IHNoaXBMb2NhdGlvbltzaGlwTmFtZV07XG4gICAgICAgIGlmIChzaGlwQ29vcmRpbmF0ZXMpIHtcbiAgICAgICAgICBjbGVhclNoaXBDb29yZGluYXRlcyhib2FyZCwgc2hpcENvb3JkaW5hdGVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzaGlwTG9jYXRpb24gPSB7fTtcbiAgICAgIG1pc3NlZEF0dGFja3MgPSBbXTtcbiAgICAgIHN1Y2Nlc3NmdWxBdHRhY2tzID0gW107XG4gICAgICBwbGF5ZXJBdHRhY2sgPSB7fTtcbiAgICB9LFxuICAgIHNldFBsYXllckF0dGFjazogKGF0dGFjaywgY29vcmRpbmF0ZSkgPT4ge1xuICAgICAgcGxheWVyQXR0YWNrW2F0dGFja10gPSBjb29yZGluYXRlO1xuICAgIH0sXG4gICAgZ2V0UGxheWVyQXR0YWNrOiAoKSA9PiBwbGF5ZXJBdHRhY2ssXG4gICAgcmVzZXRQbGF5ZXJBdHRhY2s6ICgpID0+IHtcbiAgICAgIHBsYXllckF0dGFjayA9IHt9O1xuICAgIH0sXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsZWFyU2hpcENvb3JkaW5hdGVzKGJvYXJkLCBzaGlwQ29vcmRpbmF0ZXMpIHtcbiAgZm9yIChjb25zdCBbcm93LCBjb2xdIG9mIHNoaXBDb29yZGluYXRlcykge1xuICAgIGJvYXJkW3Jvd11bY29sXSA9IHt9OyAvLyBDbGVhciB0aGUgc2hpcCBjb2RlIGluIHRoZSBib2FyZFxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlR2FtZUJvYXJkO1xuIiwiZnVuY3Rpb24gZHJhd0JvYXJkKGNvbnRhaW5lciwgc2l6ZSwgcGxheWVyLCBnYW1lKSB7XG4gIGNvbnN0IGJvYXJkU2l6ZSA9IHNpemU7XG5cbiAgYWRkUm93U3F1YXJlRGl2KGNvbnRhaW5lciwgYm9hcmRTaXplLCBwbGF5ZXIsIGdhbWUpO1xufVxuXG5mdW5jdGlvbiBhZGRSb3dTcXVhcmVEaXYoY29udGFpbmVyLCBib2FyZFNpemUsIHBsYXllcklkLCBnYW1lKSB7XG4gIGNvbnN0IGxldHRlcnMgPSAnQUJDREVGR0hJSic7XG4gIGxldCBjbGlja2VkQ29vcmRpbmF0ZXMgPSBbXTsgLy8gQXJyYXkgdG8gc3RvcmUgY2xpY2tlZCBjb29yZGluYXRlc1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYm9hcmRTaXplOyBpKyspIHtcbiAgICBjb25zdCByb3dMZXR0ZXIgPSBsZXR0ZXJzW2ldO1xuXG4gICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcm93LmNsYXNzTGlzdC5hZGQoYHJvdy0ke3Jvd0xldHRlcn1gKTtcbiAgICByb3cuc3R5bGUuY3NzVGV4dCA9ICdkaXNwbGF5OiBmbGV4Oyc7XG5cbiAgICBmb3IgKGxldCBqID0gMTsgaiA8PSBib2FyZFNpemU7IGorKykge1xuICAgICAgY29uc3QgY29sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb2wuY2xhc3NMaXN0LmFkZChgY29sLSR7cm93TGV0dGVyfS0ke2p9YCk7XG4gICAgICBjb2wuY2xhc3NMaXN0LmFkZCgnaG92ZXInKTsgLy8gQWRkIGhvdmVyIGNsYXNzIGZvciBpbml0aWFsIGhvdmVyIGVmZmVjdFxuICAgICAgY29sLnNldEF0dHJpYnV0ZSgnZGF0YS1wbGF5ZXItaWQnLCBwbGF5ZXJJZCk7IC8vIEFzc29jaWF0ZSB0aGUgY29sdW1uIHdpdGggdGhlIHBsYXllclxuXG4gICAgICBjb2wuc3R5bGUuY3NzVGV4dCA9ICd3aWR0aDogNDBweDsgaGVpZ2h0OiA0MHB4OyBib3JkZXI6IDRweCBzb2xpZCAjOGI4NTg5Oyc7XG5cbiAgICAgIGNvbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBjbGlja2VkUm93TGV0dGVyID0gcm93TGV0dGVyO1xuICAgICAgICBjb25zdCBjbGlja2VkQ29sTnVtYmVyID0gU3RyaW5nKGopO1xuXG4gICAgICAgIC8vIFJlbW92ZSBob3ZlciBjbGFzcyBhbmQgYWRkIGNsaWNrZWQgY2xhc3MgdG8gdGhlIGNsaWNrZWQgY29sdW1uXG4gICAgICAgIGNvbC5jbGFzc0xpc3QucmVtb3ZlKCdob3ZlcicpO1xuICAgICAgICBjb2wuY2xhc3NMaXN0LmFkZCgnY2xpY2tlZCcpO1xuXG4gICAgICAgIGNsaWNrZWRDb29yZGluYXRlcyA9IFtdO1xuICAgICAgICBjbGlja2VkQ29vcmRpbmF0ZXMucHVzaChjbGlja2VkUm93TGV0dGVyKTtcbiAgICAgICAgY2xpY2tlZENvb3JkaW5hdGVzLnB1c2goY2xpY2tlZENvbE51bWJlcik7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQbGF5ZXIgPSBjb2wuZ2V0QXR0cmlidXRlKCdkYXRhLXBsYXllci1pZCcpO1xuICAgICAgICBpZiAoY3VycmVudFBsYXllciA9PT0gJ3BsYXllcjInKSB7XG4gICAgICAgICAgY29uc3QgcGxheWVyMUJvYXJkID0gZ2FtZS5nZXRQbGF5ZXJPbmVCb2FyZCgpO1xuICAgICAgICAgIHBsYXllcjFCb2FyZC5zZXRQbGF5ZXJBdHRhY2soJ2F0dGFjaycsIGNsaWNrZWRDb29yZGluYXRlcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFBsYXllciA9PT0gJ3BsYXllcjEnKSB7XG4gICAgICAgICAgY29uc3QgcGxheWVyMkJvYXJkID0gZ2FtZS5nZXRQbGF5ZXJUd29Cb2FyZCgpO1xuICAgICAgICAgIHBsYXllcjJCb2FyZC5zZXRQbGF5ZXJBdHRhY2soJ2F0dGFjaycsIGNsaWNrZWRDb29yZGluYXRlcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByb3cuYXBwZW5kQ2hpbGQoY29sKTtcbiAgICB9XG5cbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocm93KTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRyYXdCb2FyZDtcbiIsImNvbnN0IGNyZWF0ZVBsYXllciA9IHJlcXVpcmUoJy4vcGxheWVyLmpzJyk7XG5jb25zdCBjcmVhdGVHYW1lQm9hcmQgPSByZXF1aXJlKCcuL2JvYXJkLmpzJyk7XG5cbmNvbnN0IGNyZWF0ZUdhbWUgPSAocGxheWVyTmFtZTEsIHBsYXllck5hbWUyKSA9PiB7XG4gIGNvbnN0IHBsYXllcjEgPSBjcmVhdGVQbGF5ZXIocGxheWVyTmFtZTEpO1xuICBjb25zdCBwbGF5ZXIyID0gY3JlYXRlUGxheWVyKHBsYXllck5hbWUyKTtcblxuICBjb25zdCBwbGF5ZXIxQm9hcmQgPSBjcmVhdGVHYW1lQm9hcmQoKTtcbiAgY29uc3QgcGxheWVyMkJvYXJkID0gY3JlYXRlR2FtZUJvYXJkKCk7XG5cbiAgY29uc3QgYm9hcmRPYmplY3QgPSB7XG4gICAgcGxheWVyMTogcGxheWVyMUJvYXJkLFxuICAgIHBsYXllcjI6IHBsYXllcjJCb2FyZCxcbiAgfTtcblxuICAvLyBmb3IgKGNvbnN0IHBsYXllcktleSBpbiBib2FyZE9iamVjdCkge1xuICAvLyAgIHBvcHVsYXRlR2FtZUJvYXJkKGJvYXJkT2JqZWN0W3BsYXllcktleV0pO1xuICAvLyB9XG5cbiAgY29uc3Qgd2luQ291bnQgPSB7IHBsYXllcjE6IDAsIHBsYXllcjI6IDAgfTtcblxuICByZXR1cm4ge1xuICAgIGdldFBsYXllck9uZTogKCkgPT4gcGxheWVyMSxcbiAgICBnZXRQbGF5ZXJUd286ICgpID0+IHBsYXllcjIsXG4gICAgZ2V0UGxheWVyT25lQm9hcmQ6ICgpID0+IHBsYXllcjFCb2FyZCxcbiAgICBnZXRQbGF5ZXJUd29Cb2FyZDogKCkgPT4gcGxheWVyMkJvYXJkLFxuICAgIHJlc2V0Qm9hcmQ6ICgpID0+IHtcbiAgICAgIGZvciAoY29uc3QgcGxheWVyS2V5IGluIGJvYXJkT2JqZWN0KSB7XG4gICAgICAgIGJvYXJkT2JqZWN0W3BsYXllcktleV0ucmVzZXQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGluY3JlbWVudFdpbkNvdW50OiAod2lubmVyKSA9PiB7XG4gICAgICBpZiAod2lubmVyID09PSBwbGF5ZXIxKSB7XG4gICAgICAgIHdpbkNvdW50LnBsYXllcjErKztcbiAgICAgIH0gZWxzZSBpZiAod2lubmVyID09PSBwbGF5ZXIyKSB7XG4gICAgICAgIHdpbkNvdW50LnBsYXllcjIrKztcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldFdpbkNvdW50OiAoKSA9PiB3aW5Db3VudCxcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlR2FtZTtcbiIsImNvbnN0IHNoaXBMZW5ndGhzID0ge1xuICBkZXN0cm95ZXI6IDIsXG4gIGNydWlzZXI6IDMsXG4gIHN1Ym1hcmluZTogMyxcbiAgYmF0dGxlc2hpcDogNCxcbiAgY2FycmllcjogNSxcbn07XG5jb25zdCBib2FyZFNpemUgPSAxMDtcblxuY29uc3QgdGltZW91dER1cmF0aW9uID0gNjAwMDtcblxuLy8gQ29udGFpbmVyIGZvciBzaGlwIGJ1dHRvbnMgb24gdGhlIGdhbWUgaW50ZXJmYWNlXG5jb25zdCBzaGlwQnV0dG9uc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zaGlwYnV0dG9uLWNvbnRhaW5lcicpO1xuXG4vLyBGdW5jdGlvbiB0byBkaXNwbGF5IHNoaXAgYnV0dG9ucyBvbiB0aGUgZ2FtZSBpbnRlcmZhY2VcbmZ1bmN0aW9uIHNob3dTaGlwQnV0dG9ucygpIHtcbiAgc2hpcEJ1dHRvbnNDb250YWluZXIuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICB9KTtcbn1cblxuLy8gRnVuY3Rpb24gdG8gYWRkIGV2ZW50IGxpc3RlbmVyIHRvIHNoaXAgYnV0dG9ucywgdHJpZ2dlcmluZyBzaGlwIHBsYWNlbWVudFxuZnVuY3Rpb24gYWRkU2hpcEJ1dHRvbkV2ZW50TGlzdGVuZXIoZ2FtZSwgYnV0dG9uKSB7XG4gIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCBzaGlwbmFtZSA9IGJ1dHRvbi5jbGFzc0xpc3RbMF07XG4gICAgY29uc3QgY3VycmVudFBsYXllciA9IGJ1dHRvbi52YWx1ZTtcblxuICAgIC8vIFByb21wdCB0aGUgdXNlciB0byBlbnRlciB0aGUgYWxpZ25tZW50IGZvciB0aGUgc2hpcCAodmVydGljYWwgb3IgaG9yaXpvbnRhbClcbiAgICBjb25zdCBhbGlnbm1lbnRJbnB1dCA9IHByb21wdChgUGxlYXNlIGVudGVyICd2ZXJ0aWNhbCcgb3IgJ2hvcml6b250YWwnIGZvciAke3NoaXBuYW1lfTpgKTtcbiAgICBpZiAoIWlzVmFsaWRBbGlnbm1lbnQoYWxpZ25tZW50SW5wdXQpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIGFsaWdubWVudCBpbnB1dC4gUGxlYXNlIGVudGVyIGVpdGhlciBcInZlcnRpY2FsXCIgb3IgXCJob3Jpem9udGFsXCIuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBsZW5ndGggb2YgdGhlIHNoaXAgYmFzZWQgb24gaXRzIG5hbWVcbiAgICBjb25zdCBzaGlwTGVuZ3RoID0gc2hpcExlbmd0aHNbc2hpcG5hbWVdO1xuXG4gICAgLy8gUHJvbXB0IHRoZSB1c2VyIHRvIGlucHV0IHNoaXAgY29vcmRpbmF0ZXMgYW5kIGluaXRpYXRlIHNoaXAgcGxhY2VtZW50XG4gICAgcHJvbXB0U2hpcFBsYWNlbWVudChnYW1lLCBzaGlwbmFtZSwgc2hpcExlbmd0aCwgY3VycmVudFBsYXllciwgYWxpZ25tZW50SW5wdXQpO1xuICB9KTtcbn1cblxuLy8gRnVuY3Rpb24gdG8gcHJvbXB0IHRoZSBwbGF5ZXIgZm9yIHNoaXAgcGxhY2VtZW50IGNvb3JkaW5hdGVzXG5mdW5jdGlvbiBwcm9tcHRTaGlwUGxhY2VtZW50KGdhbWUsIHNoaXBOYW1lLCBzaGlwTGVuZ3RoLCBjdXJyZW50UGxheWVyLCBhbGlnbm1lbnRJbnB1dCkge1xuICBjb25zb2xlLmxvZyhgJHtjdXJyZW50UGxheWVyfSdzIHR1cm4gdG8gcGxhY2UgJHtzaGlwTmFtZX1gKTtcblxuICBjb25zdCBzaGlwQ29vcmRpbmF0ZXMgPSBbXTtcbiAgY29uc3QgY3VycmVudFBsYXllckJvYXJkID0gZ2V0UGxheWVyQm9hcmQoZ2FtZSwgY3VycmVudFBsYXllcik7XG5cbiAgLy8gR2V0IHZhbGlkIHJvd3MgYW5kIGNvbHVtbnMgZm9yIHRoZSBzcGVjaWZpZWQgc2hpcCBsZW5ndGggYW5kIGFsaWdubWVudFxuICBjb25zdCB7IHZhbGlkUm93cywgdmFsaWRDb2xzIH0gPSBnZXRWYWxpZFJvd3NBbmRDb2xzKGFsaWdubWVudElucHV0LCBzaGlwTGVuZ3RoKTtcblxuICAvLyBQcm9tcHQgdGhlIHVzZXIgZm9yIHNoaXAgY29vcmRpbmF0ZXMgdW50aWwgdGhlIHJlcXVpcmVkIG51bWJlciBpcyBvYnRhaW5lZFxuICB3aGlsZSAoc2hpcENvb3JkaW5hdGVzLmxlbmd0aCA8IHNoaXBMZW5ndGgpIHtcbiAgICBjb25zdCBjb29yZGluYXRlSW5wdXQgPSBwcm9tcHQoYFBsZWFzZSBpbnB1dCBjb29yZGluYXRlIGZvciAke3NoaXBOYW1lfSAoZXg6IEExKTpgKS50b1VwcGVyQ2FzZSgpO1xuICAgIGNvbnN0IGNvb3JkaW5hdGVzQXJyYXkgPSBjb29yZGluYXRlSW5wdXQuc3BsaXQoJycpO1xuXG4gICAgY29uc3Qgc3RhcnRSb3cgPSBjb29yZGluYXRlc0FycmF5WzBdO1xuICAgIGNvbnN0IHN0YXJ0Q29sID0gY29vcmRpbmF0ZXNBcnJheVsxXTtcblxuICAgIC8vIENoZWNrIGlmIHRoZSBlbnRlcmVkIGNvb3JkaW5hdGVzIGFyZSB2YWxpZFxuICAgIGlmIChpc1ZhbGlkQ29vcmRpbmF0ZShzdGFydFJvdywgc3RhcnRDb2wsIGFsaWdubWVudElucHV0LCB2YWxpZFJvd3MsIHZhbGlkQ29scykpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcExlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IGFsaWdubWVudElucHV0ID09PSAndmVydGljYWwnID8gU3RyaW5nLmZyb21DaGFyQ29kZShzdGFydFJvdy5jaGFyQ29kZUF0KDApICsgaSkgOiBzdGFydFJvdztcbiAgICAgICAgY29uc3QgY29sID0gYWxpZ25tZW50SW5wdXQgPT09ICdob3Jpem9udGFsJyA/IFN0cmluZy5mcm9tQ2hhckNvZGUoc3RhcnRDb2wuY2hhckNvZGVBdCgwKSArIGkpIDogc3RhcnRDb2w7XG4gICAgICAgIHNoaXBDb29yZGluYXRlcy5wdXNoKFtyb3csIGNvbF0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIGNvb3JkaW5hdGVzLiBQbGVhc2UgZW50ZXIgdmFsaWQgY29vcmRpbmF0ZXMuJyk7XG4gICAgfVxuICB9XG5cbiAgLy8gTG9nIHRoZSBvYnRhaW5lZCBzaGlwIGNvb3JkaW5hdGVzIGFuZCBpbml0aWF0ZSBzaGlwIHBsYWNlbWVudCBvbiB0aGUgZ2FtZSBib2FyZFxuICBjb25zb2xlLmxvZyhzaGlwQ29vcmRpbmF0ZXMpO1xuICBwbGFjZVNoaXAoY3VycmVudFBsYXllckJvYXJkLCBzaGlwTmFtZSwgc2hpcExlbmd0aCwgc2hpcENvb3JkaW5hdGVzKTtcbn1cblxuLy8gRnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIGVudGVyZWQgY29vcmRpbmF0ZXMgYXJlIHZhbGlkIGZvciB0aGUgZ2l2ZW4gc2hpcCBwbGFjZW1lbnRcbmZ1bmN0aW9uIGlzVmFsaWRDb29yZGluYXRlKHJvdywgY29sLCBhbGlnbm1lbnRJbnB1dCwgdmFsaWRSb3dzLCB2YWxpZENvbHMpIHtcbiAgcmV0dXJuIChcbiAgICAoYWxpZ25tZW50SW5wdXQgPT09ICd2ZXJ0aWNhbCcgJiYgdmFsaWRSb3dzLmluY2x1ZGVzKHJvdykgJiYgdmFsaWRDb2xzLmluY2x1ZGVzKGNvbCkpXG4gICAgICB8fCAoYWxpZ25tZW50SW5wdXQgPT09ICdob3Jpem9udGFsJyAmJiB2YWxpZFJvd3MuaW5jbHVkZXMocm93KSAmJiB2YWxpZENvbHMuaW5jbHVkZXMoY29sKSlcbiAgKTtcbn1cblxuLy8gRnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIGFsaWdubWVudCBpbnB1dCBpcyB2YWxpZCAodmVydGljYWwgb3IgaG9yaXpvbnRhbClcbmZ1bmN0aW9uIGlzVmFsaWRBbGlnbm1lbnQoYWxpZ25tZW50KSB7XG4gIHJldHVybiBhbGlnbm1lbnQgPT09ICd2ZXJ0aWNhbCcgfHwgYWxpZ25tZW50ID09PSAnaG9yaXpvbnRhbCc7XG59XG5cbi8vIEZ1bmN0aW9uIHRvIGdldCB2YWxpZCByb3dzIGFuZCBjb2x1bW5zIGJhc2VkIG9uIHRoZSBzaGlwIGFsaWdubWVudCBhbmQgbGVuZ3RoXG5mdW5jdGlvbiBnZXRWYWxpZFJvd3NBbmRDb2xzKGFsaWdubWVudElucHV0LCBzaGlwTGVuZ3RoKSB7XG4gIGxldCB2YWxpZFJvd3M7XG4gIGxldCB2YWxpZENvbHM7XG5cbiAgaWYgKGFsaWdubWVudElucHV0ID09PSAndmVydGljYWwnKSB7XG4gICAgdmFsaWRSb3dzID0gJ0FCQ0RFRkdISUonLnNsaWNlKDAsIDEwIC0gKHNoaXBMZW5ndGggLSAxKSk7XG4gICAgdmFsaWRDb2xzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAgfSwgKF8sIGkpID0+IChpICsgMSkudG9TdHJpbmcoKSk7XG4gIH0gZWxzZSBpZiAoYWxpZ25tZW50SW5wdXQgPT09ICdob3Jpem9udGFsJykge1xuICAgIHZhbGlkUm93cyA9ICdBQkNERUZHSElKJztcbiAgICB2YWxpZENvbHMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMCAtIChzaGlwTGVuZ3RoIC0gMSkgfSwgKF8sIGkpID0+IChpICsgMSkudG9TdHJpbmcoKSk7XG4gIH1cblxuICByZXR1cm4geyB2YWxpZFJvd3MsIHZhbGlkQ29scyB9O1xufVxuXG4vLyBGdW5jdGlvbiB0byBnZXQgdGhlIGdhbWUgYm9hcmQgb2YgdGhlIGN1cnJlbnQgcGxheWVyXG5mdW5jdGlvbiBnZXRQbGF5ZXJCb2FyZChnYW1lLCBjdXJyZW50UGxheWVyKSB7XG4gIHJldHVybiBjdXJyZW50UGxheWVyID09PSAncGxheWVyMScgPyBnYW1lLmdldFBsYXllck9uZUJvYXJkKCkgOiBnYW1lLmdldFBsYXllclR3b0JvYXJkKCk7XG59XG5cbi8vIEZ1bmN0aW9uIHRvIHByb21wdCB0aGUgdXNlciBmb3IgdGhlaXIgbmFtZSB3aXRoIHZhbGlkYXRpb25cbmZ1bmN0aW9uIGdldFBsYXllck5hbWUocHJvbXB0TWVzc2FnZSkge1xuICBsZXQgcGxheWVyTmFtZSA9IHByb21wdChwcm9tcHRNZXNzYWdlKTtcblxuICAvLyBWYWxpZGF0ZSB0aGUgcGxheWVyIG5hbWVcbiAgd2hpbGUgKCFpc1ZhbGlkTmFtZShwbGF5ZXJOYW1lKSkge1xuICAgIGFsZXJ0KCdJbnZhbGlkIG5hbWUuIFBsZWFzZSBlbnRlciBhIHZhbGlkIHN0cmluZy4nKTtcbiAgICBwbGF5ZXJOYW1lID0gcHJvbXB0KHByb21wdE1lc3NhZ2UpO1xuICB9XG5cbiAgcmV0dXJuIHBsYXllck5hbWU7XG59XG5cbi8vIEZ1bmN0aW9uIHRvIHZhbGlkYXRlIGEgcGxheWVyIG5hbWUgKGN1c3RvbSB2YWxpZGF0aW9uIGxvZ2ljIGNhbiBiZSBhZGRlZClcbmZ1bmN0aW9uIGlzVmFsaWROYW1lKG5hbWUpIHtcbiAgLy8gQWRkIHlvdXIgY3VzdG9tIHZhbGlkYXRpb24gbG9naWMgaGVyZVxuICAvLyBGb3IgZXhhbXBsZSwgZW5zdXJpbmcgdGhlIG5hbWUgaXMgYSBub24tZW1wdHkgc3RyaW5nIGFuZCBkb2VzIG5vdCBjb250YWluIHN5bWJvbHMgb3IgbnVtYmVyc1xuICByZXR1cm4gdHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnICYmIG5hbWUudHJpbSgpICE9PSAnJyAmJiAvXlthLXpBLVpcXHNdKyQvLnRlc3QobmFtZSk7XG59XG5cbi8vIEZ1bmN0aW9uIHRvIHBsYWNlIGEgc2hpcCBvbiB0aGUgZ2FtZSBib2FyZFxuZnVuY3Rpb24gcGxhY2VTaGlwKGdhbWVCb2FyZCwgc2hpcE5hbWUsIHNoaXBMZW5ndGgsIHNoaXBDb29yZGluYXRlcykge1xuICBpZiAoc2hpcENvb3JkaW5hdGVzLmxlbmd0aCAhPT0gc2hpcExlbmd0aCkge1xuICAgIGNvbnNvbGUubG9nKGBJbnZhbGlkIHNoaXAgY29vcmRpbmF0ZXMgZm9yICR7c2hpcE5hbWV9LiBQbGVhc2UgcHJvdmlkZSAke3NoaXBMZW5ndGh9IGNvb3JkaW5hdGVzLmApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpc0Nvb3JkaW5hdGVPY2N1cGllZChnYW1lQm9hcmQsIHNoaXBDb29yZGluYXRlcykpIHtcbiAgICBjb25zb2xlLmxvZygnSW52YWxpZCBzaGlwIHBsYWNlbWVudC4gQ29vcmRpbmF0ZXMgYXJlIGFscmVhZHkgb2NjdXBpZWQuJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgYm9hcmQgPSBnYW1lQm9hcmQuZ2V0Qm9hcmQoKTtcbiAgY29uc3Qgc2hpcExvY2F0aW9uID0gZ2FtZUJvYXJkLmdldFNoaXBMb2NhdGlvbigpO1xuICB1cGRhdGVCb2FyZENvb3JkaW5hdGUoYm9hcmQsIHNoaXBMb2NhdGlvbiwgc2hpcE5hbWUsIHNoaXBDb29yZGluYXRlcyk7XG59XG5cbi8vIEZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBzcGVjaWZpZWQgY29vcmRpbmF0ZXMgb24gdGhlIGdhbWUgYm9hcmQgYXJlIG9jY3VwaWVkIGJ5IG90aGVyIHNoaXBzXG5mdW5jdGlvbiBpc0Nvb3JkaW5hdGVPY2N1cGllZChnYW1lQm9hcmQsIHNoaXBDb29yZGluYXRlcykge1xuICBjb25zdCBzaGlwTG9jYXRpb24gPSBnYW1lQm9hcmQuZ2V0U2hpcExvY2F0aW9uKCk7XG5cbiAgZm9yIChjb25zdCBzaGlwTmFtZSBpbiBzaGlwTG9jYXRpb24pIHtcbiAgICBjb25zdCBvY2N1cGllZENvb3JkaW5hdGVzID0gc2hpcExvY2F0aW9uW3NoaXBOYW1lXTtcblxuICAgIGZvciAoY29uc3QgW3JvdywgY29sXSBvZiBzaGlwQ29vcmRpbmF0ZXMpIHtcbiAgICAgIGlmIChvY2N1cGllZENvb3JkaW5hdGVzLnNvbWUoKFtvY2N1cGllZFJvdywgb2NjdXBpZWRDb2xdKSA9PiBvY2N1cGllZFJvdyA9PT0gcm93ICYmIG9jY3VwaWVkQ29sID09PSBjb2wpKSB7XG4gICAgICAgIHJldHVybiB0cnVlOyAvLyBDb29yZGluYXRlIGlzIGFscmVhZHkgb2NjdXBpZWQgYnkgYW5vdGhlciBzaGlwXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlOyAvLyBDb29yZGluYXRlIGlzIG5vdCBvY2N1cGllZFxufVxuXG4vLyBGdW5jdGlvbiB0byB1cGRhdGUgdGhlIGdhbWUgYm9hcmQgd2l0aCBzaGlwIGNvb3JkaW5hdGVzXG5mdW5jdGlvbiB1cGRhdGVCb2FyZENvb3JkaW5hdGUoYm9hcmQsIHNoaXBMb2NhdGlvbiwgc2hpcE5hbWUsIHNoaXBDb29yZGluYXRlcykge1xuICBmb3IgKGNvbnN0IFtyb3csIGNvbF0gb2Ygc2hpcENvb3JkaW5hdGVzKSB7XG4gICAgYm9hcmRbcm93XVtjb2xdID0gc2hpcE5hbWUuY2hhckF0KDApLnRvTG93ZXJDYXNlKCk7IC8vIFVzaW5nIHRoZSBmaXJzdCBsZXR0ZXIgb2YgdGhlIHNoaXAgbmFtZSBhcyBhIGNvZGVcbiAgfVxuXG4gIHNoaXBMb2NhdGlvbltzaGlwTmFtZV0gPSBzaGlwQ29vcmRpbmF0ZXM7XG59XG5cbi8vIEZ1bmN0aW9uIHRvIGhhbmRsZSByZWNlaXZpbmcgYW4gYXR0YWNrIG9uIHRoZSBnYW1lIGJvYXJkXG5mdW5jdGlvbiByZWNlaXZlQXR0YWNrKGNvb3JkaW5hdGUsIGdhbWVCb2FyZCkge1xuICBjb25zdCBoaXRUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpdC10ZXh0Jyk7XG4gIGNvbnN0IFthdHRhY2tSb3csIGF0dGFja0NvbF0gPSBjb29yZGluYXRlO1xuICBjb25zdCBzdWNjZXNzZnVsQXR0YWNrcyA9IGdhbWVCb2FyZC5nZXRTdWNjZXNzZnVsQXR0YWNrcygpO1xuXG4gIGlmIChzdWNjZXNzZnVsQXR0YWNrcy5zb21lKChbcm93LCBjb2xdKSA9PiByb3cgPT09IGF0dGFja1JvdyAmJiBjb2wgPT09IGF0dGFja0NvbCkpIHtcbiAgICBoaXRUZXh0LnRleHRDb250ZW50ID0gJ1RoaXMgdGFyZ2V0IGhhcyBhbHJlYWR5IGJlZW4gc3VjY2Vzc2Z1bGx5IGF0dGFja2VkLic7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qgc2hpcEF0dGFja2VkTmFtZSA9IGNoZWNrU2hpcEF0dGFja0xvY2F0aW9uKGNvb3JkaW5hdGUsIGdhbWVCb2FyZCk7XG5cbiAgaWYgKHNoaXBBdHRhY2tlZE5hbWUpIHtcbiAgICBjb25zdCBzaGlwcyA9IGdhbWVCb2FyZC5nZXRTaGlwcygpO1xuICAgIGNvbnN0IHNoaXBBdHRhY2tlZCA9IHNoaXBzW3NoaXBBdHRhY2tlZE5hbWVdO1xuXG4gICAgaWYgKCFzaGlwQXR0YWNrZWQuaXNTdW5rKCkpIHtcbiAgICAgIHNoaXBBdHRhY2tlZC5pc0hpdCgpO1xuICAgICAgc3VjY2Vzc2Z1bEF0dGFja3MucHVzaChbYXR0YWNrUm93LCBhdHRhY2tDb2xdKTtcblxuICAgICAgY29uc3QgcmVtYWluaW5nSGVhbHRoID0gc2hpcEF0dGFja2VkLmxlbmd0aCAtIHNoaXBBdHRhY2tlZC5nZXRIaXRDb3VudCgpO1xuXG4gICAgICBpZiAoc2hpcEF0dGFja2VkLmlzU3VuaygpKSB7XG4gICAgICAgIGhpdFRleHQudGV4dENvbnRlbnQgPSBgJHtzaGlwQXR0YWNrZWROYW1lfSBpcyBzdW5rIWA7XG4gICAgICAgIC8vIEhhbmRsZSBhbnkgYWN0aW9ucyB3aGVuIGEgc2hpcCBpcyBzdW5rXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaXRUZXh0LnRleHRDb250ZW50ID0gYCR7c2hpcEF0dGFja2VkTmFtZX0gaXMgaGl0ISBSZW1haW5pbmcgaGVhbHRoOiAke3JlbWFpbmluZ0hlYWx0aH1gO1xuICAgICAgICAvLyBIYW5kbGUgYW55IGFjdGlvbnMgd2hlbiBhIHNoaXAgaXMgaGl0IGJ1dCBub3Qgc3Vua1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBoaXRUZXh0LnRleHRDb250ZW50ID0gJ01pc3NlZCB0aGUgdGFyZ2V0ISc7XG4gICAgY29uc3QgbWlzc2VkQXR0YWNrcyA9IGdhbWVCb2FyZC5nZXRNaXNzZWRBdHRhY2tzKCk7XG4gICAgbWlzc2VkQXR0YWNrcy5wdXNoKGNvb3JkaW5hdGUpO1xuICAgIC8vIEhhbmRsZSBhbnkgYWN0aW9ucyB3aGVuIHRoZSBhdHRhY2sgbWlzc2VzIGFsbCBzaGlwc1xuICB9XG59XG5cbi8vIEZ1bmN0aW9uIHRvIGNoZWNrIHdoaWNoIHNoaXAgaXMgYXR0YWNrZWQgYXQgYSBzcGVjaWZpYyBsb2NhdGlvbiBvbiB0aGUgZ2FtZSBib2FyZFxuZnVuY3Rpb24gY2hlY2tTaGlwQXR0YWNrTG9jYXRpb24oY29vcmRpbmF0ZSwgZ2FtZUJvYXJkKSB7XG4gIGNvbnN0IFthdHRhY2tSb3csIGF0dGFja0NvbF0gPSBjb29yZGluYXRlO1xuXG4gIGNvbnN0IHNoaXBMb2NhdGlvbiA9IGdhbWVCb2FyZC5nZXRTaGlwTG9jYXRpb24oKTtcblxuICBmb3IgKGNvbnN0IHNoaXBOYW1lIGluIHNoaXBMb2NhdGlvbikge1xuICAgIGNvbnN0IHNoaXBDb29yZGluYXRlcyA9IHNoaXBMb2NhdGlvbltzaGlwTmFtZV07XG5cbiAgICBmb3IgKGNvbnN0IFtyb3csIGNvbF0gb2Ygc2hpcENvb3JkaW5hdGVzKSB7XG4gICAgICBpZiAocm93ID09PSBhdHRhY2tSb3cgJiYgY29sID09PSBhdHRhY2tDb2wpIHtcbiAgICAgICAgcmV0dXJuIHNoaXBOYW1lO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYWRkU2hpcEJ1dHRvbkV2ZW50TGlzdGVuZXIsXG4gIHNob3dTaGlwQnV0dG9ucyxcbiAgZ2V0UGxheWVyTmFtZSxcbiAgYm9hcmRTaXplLFxuICB0aW1lb3V0RHVyYXRpb24sXG4gIHNoaXBMZW5ndGhzLFxuICByZWNlaXZlQXR0YWNrLFxufTtcbiIsImZ1bmN0aW9uIGNyZWF0ZVBsYXllcihwbGF5ZXJOYW1lKSB7XG4gIGNvbnN0IG5hbWUgPSBwbGF5ZXJOYW1lO1xuXG4gIHJldHVybiB7XG4gICAgZ2V0TmFtZTogKCkgPT4gbmFtZSxcbiAgICBuYW1lLFxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZVBsYXllcjtcbiIsImZ1bmN0aW9uIGNyZWF0ZVNoaXAobmFtZSwgbGVuZ3RoKSB7XG4gIGlmICghbGVuZ3RoKSB7XG4gICAgcmV0dXJuIG51bGw7IC8vIG9yIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzaGlwIGxlbmd0aC4gTXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIuJyk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGxlbmd0aCxcbiAgICBoaXQ6IDAsXG4gICAgc3VuazogZmFsc2UsXG4gICAgbmFtZSxcbiAgICBpc0hpdCgpIHtcbiAgICAgIGlmICh0aGlzLmhpdCA8IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuaGl0Kys7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5oaXQgPT09IHRoaXMubGVuZ3RoO1xuICAgIH0sXG4gICAgaXNTdW5rKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaGl0ID09PSB0aGlzLmxlbmd0aDtcbiAgICB9LFxuICAgIGdldEhpdENvdW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaGl0O1xuICAgIH0sXG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZVNoaXA7XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiY29uc3QgY3JlYXRlR2FtZSA9IHJlcXVpcmUoJy4vZ2FtZS5qcycpO1xuY29uc3QgZHJhd0JvYXJkID0gcmVxdWlyZSgnLi9ib2FyZERpc3BsYXkuanMnKTtcbmNvbnN0IHtcbiAgYWRkU2hpcEJ1dHRvbkV2ZW50TGlzdGVuZXIsXG4gIHNob3dTaGlwQnV0dG9ucyxcbiAgZ2V0UGxheWVyTmFtZSxcbiAgYm9hcmRTaXplLFxuICB0aW1lb3V0RHVyYXRpb24sXG4gIHJlY2VpdmVBdHRhY2ssXG59ID0gcmVxdWlyZSgnLi9oZWxwZXIuanMnKTtcblxuY29uc3QgcGxheUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdGFydCcpO1xuY29uc3QgY3JlYXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNyZWF0ZS1ib2FyZCcpO1xuY29uc3QgcGxheWVyMWNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXIxLWNvbnRhaW5lcicpO1xuY29uc3QgcGxheWVyMmNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXIyLWNvbnRhaW5lcicpO1xuY29uc3QgcGxheWVyVHVyblRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGxheWVyLXR1cm4nKTtcbmNvbnN0IHBsYWNlU2hpcEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZS1zaGlwJyk7XG5jb25zdCBjcnVpc2VyQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jcnVpc2VyJyk7XG5jb25zdCBjYXJyaWVyQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJyaWVyJyk7XG5jb25zdCBiYXR0bGVzaGlwQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iYXR0bGVzaGlwJyk7XG5jb25zdCBzdWJtYXJpbmVCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN1Ym1hcmluZScpO1xuY29uc3QgZGVzdHJveWVyQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kZXN0cm95ZXInKTtcblxubGV0IGdhbWU7XG5cbi8vIEV2ZW50IGxpc3RlbmVyIGZvciBjcmVhdGluZyB0aGUgZ2FtZSBib2FyZFxuY3JlYXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY3JlYXRlR2FtZUJvYXJkKTtcblxuLy8gRXZlbnQgbGlzdGVuZXIgZm9yIHNob3dpbmcgc2hpcCBidXR0b25zXG5wbGFjZVNoaXBCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93U2hpcEJ1dHRvbnMpO1xuXG4vLyBFdmVudCBsaXN0ZW5lcnMgZm9yIHNoaXAgYnV0dG9uc1xuZnVuY3Rpb24gY3JlYXRlR2FtZUJvYXJkKCkge1xuICBjb25zdCBwbGF5ZXIxTmFtZSA9IGdldFBsYXllck5hbWUoJ0VudGVyIHBsYXllciAxIE5hbWUnKTtcbiAgY29uc3QgcGxheWVyMk5hbWUgPSBnZXRQbGF5ZXJOYW1lKCdFbnRlciBwbGF5ZXIgMiBOYW1lJyk7XG5cbiAgZ2FtZSA9IGNyZWF0ZUdhbWUocGxheWVyMU5hbWUsIHBsYXllcjJOYW1lKTtcblxuICBjb25zb2xlLmxvZyhnYW1lKTtcblxuICBkcmF3Qm9hcmQocGxheWVyMWNvbnRhaW5lciwgYm9hcmRTaXplLCAncGxheWVyMScsIGdhbWUpO1xuICBkcmF3Qm9hcmQocGxheWVyMmNvbnRhaW5lciwgYm9hcmRTaXplLCAncGxheWVyMicsIGdhbWUpO1xuXG4gIC8vIFNldCB1cCBzaGlwIGJ1dHRvbiBldmVudCBsaXN0ZW5lcnMgYWZ0ZXIgdGhlIGdhbWUgaGFzIGJlZW4gY3JlYXRlZFxuICBjcnVpc2VyQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IGFkZFNoaXBCdXR0b25FdmVudExpc3RlbmVyKGdhbWUsIGJ1dHRvbikpO1xuICBjYXJyaWVyQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IGFkZFNoaXBCdXR0b25FdmVudExpc3RlbmVyKGdhbWUsIGJ1dHRvbikpO1xuICBiYXR0bGVzaGlwQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IGFkZFNoaXBCdXR0b25FdmVudExpc3RlbmVyKGdhbWUsIGJ1dHRvbikpO1xuICBzdWJtYXJpbmVCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4gYWRkU2hpcEJ1dHRvbkV2ZW50TGlzdGVuZXIoZ2FtZSwgYnV0dG9uKSk7XG4gIGRlc3Ryb3llckJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiBhZGRTaGlwQnV0dG9uRXZlbnRMaXN0ZW5lcihnYW1lLCBidXR0b24pKTtcbn1cblxuLy8gRXZlbnQgbGlzdGVuZXIgZm9yIHN0YXJ0aW5nIHRoZSBnYW1lXG5wbGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaW5pdGlhbGl6ZUdhbWUpO1xuXG5mdW5jdGlvbiB3YWl0Rm9yUGxheWVySW5wdXQoY3VycmVudFBsYXllcikge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBjb25zdCBjdXJyZW50UGxheWVyQm9hcmQgPSBjdXJyZW50UGxheWVyID09PSBnYW1lLmdldFBsYXllck9uZSgpID8gZ2FtZS5nZXRQbGF5ZXJPbmVCb2FyZCgpIDogZ2FtZS5nZXRQbGF5ZXJUd29Cb2FyZCgpO1xuXG4gICAgY29uc3QgY2hlY2tGb3JBdHRhY2sgPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwbGF5ZXJBdHRhY2sgPSBjdXJyZW50UGxheWVyQm9hcmQuZ2V0UGxheWVyQXR0YWNrKCk7XG5cbiAgICAgIGlmICghcGxheWVyQXR0YWNrIHx8IE9iamVjdC5rZXlzKHBsYXllckF0dGFjaykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHBsYXllclR1cm5UZXh0LnRleHRDb250ZW50ID0gYFBsYXllciAke2N1cnJlbnRQbGF5ZXIuZ2V0TmFtZSgpfSwgcGxlYXNlIGNsaWNrIG9uIGEgZ3JpZC90aWxlL2Nvb3JkaW5hdGUuYDtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKGlubmVyUmVzb2x2ZSkgPT4gc2V0VGltZW91dChpbm5lclJlc29sdmUsIHRpbWVvdXREdXJhdGlvbikpO1xuICAgICAgICBhd2FpdCBjaGVja0ZvckF0dGFjaygpOyAvLyBDaGVjayBhZ2FpbiBhZnRlciB0aGUgdGltZW91dFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY29vcmRpbmF0ZSA9IHBsYXllckF0dGFjay5hdHRhY2s7XG4gICAgICAgIHJlc29sdmUoY29vcmRpbmF0ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNoZWNrRm9yQXR0YWNrKCk7XG4gIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXplR2FtZSgpIHtcbiAgY29uc3QgcGxheWVyMSA9IGdhbWUuZ2V0UGxheWVyT25lKCk7XG4gIGNvbnN0IHBsYXllcjIgPSBnYW1lLmdldFBsYXllclR3bygpO1xuICBjb25zdCBwbGF5ZXIxQm9hcmQgPSBnYW1lLmdldFBsYXllck9uZUJvYXJkKCk7XG4gIGNvbnN0IHBsYXllcjJCb2FyZCA9IGdhbWUuZ2V0UGxheWVyVHdvQm9hcmQoKTtcblxuICBsZXQgd2lubmVyID0gbnVsbDtcbiAgbGV0IGN1cnJlbnRQbGF5ZXIgPSBwbGF5ZXIxO1xuXG4gIGNvbnN0IGdldEN1cnJlbnRQbGF5ZXJCb2FyZCA9ICgpID0+IChjdXJyZW50UGxheWVyID09PSBwbGF5ZXIxID8gcGxheWVyMUJvYXJkIDogcGxheWVyMkJvYXJkKTtcblxuICBjb25zdCBwbGF5VHVybiA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50UGxheWVyQm9hcmQgPSBnZXRDdXJyZW50UGxheWVyQm9hcmQoKTtcbiAgICBjb25zdCBwbGF5ZXJBdHRhY2tDb29yZGluYXRlID0gYXdhaXQgd2FpdEZvclBsYXllcklucHV0KGN1cnJlbnRQbGF5ZXIpO1xuICAgIGNvbnNvbGUubG9nKHBsYXllckF0dGFja0Nvb3JkaW5hdGUpO1xuXG4gICAgLy8gUGxheWVyIG1hZGUgYSBzZWxlY3Rpb24sIHByb2NlZWQgd2l0aCB0aGUgZ2FtZVxuICAgIGNvbnNvbGUubG9nKGAke2N1cnJlbnRQbGF5ZXIuZ2V0TmFtZSgpfSBhdHRhY2tzOiAke3BsYXllckF0dGFja0Nvb3JkaW5hdGV9YCk7XG5cbiAgICBjb25zdCBvcHBvbmVudEJvYXJkID0gY3VycmVudFBsYXllciA9PT0gcGxheWVyMSA/IHBsYXllcjJCb2FyZCA6IHBsYXllcjFCb2FyZDtcbiAgICByZWNlaXZlQXR0YWNrKHBsYXllckF0dGFja0Nvb3JkaW5hdGUsIG9wcG9uZW50Qm9hcmQpO1xuXG4gICAgLy8gQ2hlY2sgZm9yIGEgd2lubmVyIG9yIHN3aXRjaCB0dXJuc1xuICAgIGlmIChvcHBvbmVudEJvYXJkLmFsbFNoaXBzU3VuaygpKSB7XG4gICAgICB3aW5uZXIgPSBjdXJyZW50UGxheWVyID09PSBwbGF5ZXIxID8gcGxheWVyMiA6IHBsYXllcjE7XG4gICAgICBsb2dXaW5uZXIod2lubmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudFBsYXllckJvYXJkLnJlc2V0UGxheWVyQXR0YWNrKCk7XG4gICAgICBjb25zb2xlLmxvZyhjdXJyZW50UGxheWVyQm9hcmQuZ2V0UGxheWVyQXR0YWNrKCkpO1xuICAgICAgY3VycmVudFBsYXllciA9IGN1cnJlbnRQbGF5ZXIgPT09IHBsYXllcjEgPyBwbGF5ZXIyIDogcGxheWVyMTtcbiAgICAgIHBsYXlUdXJuKCk7IC8vIENvbnRpbnVlIHRvIHRoZSBuZXh0IHR1cm5cbiAgICB9XG4gIH07XG5cbiAgcGxheVR1cm4oKTsgLy8gU3RhcnQgdGhlIGZpcnN0IHR1cm5cbn1cblxuY29uc3QgbG9nV2lubmVyID0gKHdpbm5lcikgPT4ge1xuICBjb25zdCB3aW5uZXJUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndpbm5lci10ZXh0Jyk7XG4gIGNvbnN0IHRvdGFsVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b3RhbC10ZXh0Jyk7XG4gIGNvbnN0IGhpdFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGl0LXRleHQnKTtcbiAgY29uc3Qgd2luQ291bnQgPSBnYW1lLmdldFdpbkNvdW50KCk7XG5cbiAgd2lubmVyVGV4dC50ZXh0Q29udGVudCA9IGBXaW5uZXI6ICR7d2lubmVyLmdldE5hbWUoKX1gO1xuICB0b3RhbFRleHQudGV4dENvbnRlbnQgPSBgVG90YWwgV2lucyAtIFBsYXllcjE6ICR7d2luQ291bnQucGxheWVyMX0sIFBsYXllcjI6ICR7d2luQ291bnQucGxheWVyMn1gO1xuXG4gIC8vIFJlc2V0IGhpdC10ZXh0IGNvbnRlbnRcbiAgaGl0VGV4dC50ZXh0Q29udGVudCA9ICcnO1xuXG4gIC8vIFJlbW92ZSAnY2xpY2tlZCcgY2xhc3MgZnJvbSBhbGwgY29sdW1uc1xuICBjb25zdCBhbGxDb2xzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbCcpO1xuICBhbGxDb2xzLmZvckVhY2goKGNvbCkgPT4gY29sLmNsYXNzTGlzdC5yZW1vdmUoJ2NsaWNrZWQnKSk7XG5cbiAgZ2FtZS5yZXNldEJvYXJkKCk7XG59O1xuIl0sIm5hbWVzIjpbImNyZWF0ZVNoaXAiLCJyZXF1aXJlIiwic2hpcExlbmd0aHMiLCJjbGVhclNoaXBDb29yZGluYXRlcyIsImJvYXJkIiwic2hpcENvb3JkaW5hdGVzIiwicm93IiwiY29sIiwibW9kdWxlIiwiZXhwb3J0cyIsImNoYXJDb2RlQXQiLCJyb3dLZXkiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJjb2xLZXkiLCJ0b1N0cmluZyIsImNyZWF0ZUJvYXJkIiwic2hpcExvY2F0aW9uIiwicGxheWVyQXR0YWNrIiwic2hpcHMiLCJjYXJyaWVyIiwiY3J1aXNlciIsImRlc3Ryb3llciIsInN1Ym1hcmluZSIsImJhdHRsZXNoaXAiLCJtaXNzZWRBdHRhY2tzIiwic3VjY2Vzc2Z1bEF0dGFja3MiLCJnZXRCb2FyZCIsImdldFNoaXBMb2NhdGlvbiIsImdldFNoaXBzIiwiZ2V0TWlzc2VkQXR0YWNrcyIsImdldFN1Y2Nlc3NmdWxBdHRhY2tzIiwiYWxsU2hpcHNTdW5rIiwiT2JqZWN0IiwidmFsdWVzIiwiZXZlcnkiLCJzaGlwIiwiaXNTdW5rIiwicmVzZXQiLCJzaGlwTmFtZSIsInNldFBsYXllckF0dGFjayIsImF0dGFjayIsImNvb3JkaW5hdGUiLCJnZXRQbGF5ZXJBdHRhY2siLCJyZXNldFBsYXllckF0dGFjayIsImNvbnRhaW5lciIsInNpemUiLCJwbGF5ZXIiLCJnYW1lIiwiYm9hcmRTaXplIiwicGxheWVySWQiLCJjbGlja2VkQ29vcmRpbmF0ZXMiLCJpIiwicm93TGV0dGVyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwic3R5bGUiLCJjc3NUZXh0IiwiaiIsInNldEF0dHJpYnV0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImNsaWNrZWRSb3dMZXR0ZXIiLCJjbGlja2VkQ29sTnVtYmVyIiwicmVtb3ZlIiwicHVzaCIsImN1cnJlbnRQbGF5ZXIiLCJnZXRBdHRyaWJ1dGUiLCJnZXRQbGF5ZXJPbmVCb2FyZCIsImdldFBsYXllclR3b0JvYXJkIiwiYXBwZW5kQ2hpbGQiLCJhZGRSb3dTcXVhcmVEaXYiLCJjcmVhdGVQbGF5ZXIiLCJjcmVhdGVHYW1lQm9hcmQiLCJjcmVhdGVHYW1lIiwicGxheWVyTmFtZTEiLCJwbGF5ZXJOYW1lMiIsInBsYXllcjEiLCJwbGF5ZXIyIiwicGxheWVyMUJvYXJkIiwicGxheWVyMkJvYXJkIiwiYm9hcmRPYmplY3QiLCJ3aW5Db3VudCIsImdldFBsYXllck9uZSIsImdldFBsYXllclR3byIsInJlc2V0Qm9hcmQiLCJwbGF5ZXJLZXkiLCJpbmNyZW1lbnRXaW5Db3VudCIsIndpbm5lciIsImdldFdpbkNvdW50Iiwic2hpcEJ1dHRvbnNDb250YWluZXIiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaXNWYWxpZENvb3JkaW5hdGUiLCJhbGlnbm1lbnRJbnB1dCIsInZhbGlkUm93cyIsInZhbGlkQ29scyIsImluY2x1ZGVzIiwiYWRkU2hpcEJ1dHRvbkV2ZW50TGlzdGVuZXIiLCJidXR0b24iLCJzaGlwbmFtZSIsInZhbHVlIiwicHJvbXB0IiwiYWxpZ25tZW50Iiwic2hpcExlbmd0aCIsImNvbnNvbGUiLCJsb2ciLCJjdXJyZW50UGxheWVyQm9hcmQiLCJnZXRQbGF5ZXJCb2FyZCIsInNsaWNlIiwiQXJyYXkiLCJmcm9tIiwibGVuZ3RoIiwiXyIsImdldFZhbGlkUm93c0FuZENvbHMiLCJjb29yZGluYXRlc0FycmF5IiwidG9VcHBlckNhc2UiLCJzcGxpdCIsInN0YXJ0Um93Iiwic3RhcnRDb2wiLCJlcnJvciIsImdhbWVCb2FyZCIsIm9jY3VwaWVkQ29vcmRpbmF0ZXMiLCJzb21lIiwib2NjdXBpZWRSb3ciLCJvY2N1cGllZENvbCIsImlzQ29vcmRpbmF0ZU9jY3VwaWVkIiwiY2hhckF0IiwidG9Mb3dlckNhc2UiLCJ1cGRhdGVCb2FyZENvb3JkaW5hdGUiLCJwbGFjZVNoaXAiLCJwcm9tcHRTaGlwUGxhY2VtZW50Iiwic2hvd1NoaXBCdXR0b25zIiwiZm9yRWFjaCIsImdldFBsYXllck5hbWUiLCJwcm9tcHRNZXNzYWdlIiwicGxheWVyTmFtZSIsIm5hbWUiLCJ0cmltIiwidGVzdCIsImFsZXJ0IiwidGltZW91dER1cmF0aW9uIiwicmVjZWl2ZUF0dGFjayIsImhpdFRleHQiLCJxdWVyeVNlbGVjdG9yIiwiYXR0YWNrUm93IiwiYXR0YWNrQ29sIiwidGV4dENvbnRlbnQiLCJzaGlwQXR0YWNrZWROYW1lIiwiY2hlY2tTaGlwQXR0YWNrTG9jYXRpb24iLCJzaGlwQXR0YWNrZWQiLCJpc0hpdCIsInJlbWFpbmluZ0hlYWx0aCIsImdldEhpdENvdW50IiwiZ2V0TmFtZSIsImhpdCIsInN1bmsiLCJ0aGlzIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImRyYXdCb2FyZCIsInBsYXlCdXR0b24iLCJjcmVhdGVCdXR0b24iLCJwbGF5ZXIxY29udGFpbmVyIiwicGxheWVyMmNvbnRhaW5lciIsInBsYXllclR1cm5UZXh0IiwicGxhY2VTaGlwQnV0dG9uIiwiY3J1aXNlckJ1dHRvbnMiLCJjYXJyaWVyQnV0dG9ucyIsImJhdHRsZXNoaXBCdXR0b25zIiwic3VibWFyaW5lQnV0dG9ucyIsImRlc3Ryb3llckJ1dHRvbnMiLCJwbGF5ZXIxTmFtZSIsInBsYXllcjJOYW1lIiwiYXN5bmMiLCJwbGF5VHVybiIsInBsYXllckF0dGFja0Nvb3JkaW5hdGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImNoZWNrRm9yQXR0YWNrIiwia2V5cyIsImlubmVyUmVzb2x2ZSIsInNldFRpbWVvdXQiLCJ3YWl0Rm9yUGxheWVySW5wdXQiLCJvcHBvbmVudEJvYXJkIiwibG9nV2lubmVyIiwid2lubmVyVGV4dCIsInRvdGFsVGV4dCJdLCJzb3VyY2VSb290IjoiIn0=